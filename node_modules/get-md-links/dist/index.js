'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getMdLinks;

var _commonmarkHelpers = require('commonmark-helpers');

function getMdLinks(input) {
  var exclude = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};

  var links = [];

  (0, _commonmarkHelpers.matchProcess)(input, function (node, _ref) {
    var entering = _ref.entering;

    if (entering && (0, _commonmarkHelpers.isLink)(node) && !exclude(node)) {
      links.push({
        node: node,
        html: (0, _commonmarkHelpers.html)(node),
        text: (0, _commonmarkHelpers.text)(node),
        href: node.destination
      });
    }
  });

  return links;
}
module.exports = exports['default'];